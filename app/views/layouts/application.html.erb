<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Hospital Management" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="bg-light d-flex flex-column min-vh-100">
    <!-- Navbar -->
<nav class="navbar navbar-expand-lg shadow-sm py-3 custom-navbar">
  <div class="container-fluid px-5">
    <a class="navbar-brand fw-bold text-white" href="/" style="font-size: 1.4rem;">
      üè• Hospital Management
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <% if user_signed_in? %>
        <%= link_to "Logout", destroy_user_session_path,
                    method: :delete,
                    data: { turbo_method: :delete },
                    class: "btn btn-light ms-2 px-4 fw-semibold shadow-sm" %>
      <% else %>
        <%= link_to "Login", new_user_session_path, class: "btn btn-light me-2 px-4 fw-semibold shadow-sm" %>
        <%= link_to "Sign Up", new_user_registration_path, class: "btn btn-light me-2 px-4 fw-semibold shadow-sm" %>
      <% end %>
    </div>
  </div>
</nav>


    <!-- Flash messages -->
    <div class="container mt-3">
      <% if notice.present? %>
        <div class="alert alert-success alert-dismissible fade show" role="alert">
          <%= notice %>
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
      <% end %>
      <% if alert.present? %>
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
          <%= alert %>
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
      <% end %>
    </div>

    <!-- Main content -->
    <main class="flex-fill">
      <div class="container py-5">
        <%= yield %>
      </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white text-muted text-center py-3 mt-auto border-top">
      <small>&copy; <%= Time.current.year %> Hospital Management. All rights reserved.</small>
    </footer>
  </body>
</html>
