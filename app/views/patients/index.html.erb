<h2 class="text-center my-5 display-4 fw-bold text-primary">
  <i class="bi bi-calendar2-check me-2"></i>
  Book an Appointment
</h2>

<div class="container-fluid px-5 my-4">
  <!-- Back Button -->
  <div class="d-flex justify-content-end mb-4">
    <%= link_to "‚Üê Back to Patient", patient_path(@patient_id), 
        class: "btn btn-outline-secondary px-5 py-3 fs-5 rounded-3 shadow-sm fw-semibold" %>
  </div>

  <!-- Doctors List -->
  <div class="row g-4">
    <% @doctors.each do |doctor| %>
      <div class="col-md-6 col-lg-4">
        <div class="card doctor-card h-100 shadow-lg border-0 rounded-4">
          
          <!-- Header -->
          <div class="card-header text-white text-center fs-5 fw-bold rounded-top-4 py-3"
               style="background: linear-gradient(135deg, #6BCBEB, #007BBA);">
            üë®‚Äç‚öïÔ∏è Doctor Profile
          </div>
          
          <!-- Body -->
          <div class="card-body fs-5 py-4">
            <p><i class="bi bi-person-badge text-primary me-2"></i>
              <span class="fw-semibold">Name:</span> 
              <%= doctor.users.first&.name || "No Name Found" %>
            </p>
            <p><i class="bi bi-mortarboard text-primary me-2"></i>
              <span class="fw-semibold">Experience:</span> 
              <%= doctor.experience %> years
            </p>
            <p><i class="bi bi-calendar-week text-primary me-2"></i>
              <span class="fw-semibold">Available Days:</span> 
              <%= doctor.available&.available_days&.join(", ") || "N/A" %>
            </p>
            <p><i class="bi bi-clock text-primary me-2"></i>
              <span class="fw-semibold">Time:</span> 
              <%= doctor.available&.start_time&.strftime("%I:%M %p") || "N/A" %> ‚Äì 
              <%= doctor.available&.end_time&.strftime("%I:%M %p") || "N/A" %>
            </p>

            <p><i class="bi bi-activity text-primary me-2"></i>
              <span class="fw-semibold">Status:</span>
              <% if doctor.available&.is_active? %>
                <span class="badge bg-success rounded-pill fs-6 px-4 py-2">Active</span>
              <% else %>
                <span class="badge bg-danger rounded-pill fs-6 px-4 py-2">Not Active</span>
              <% end %>
            </p>

            <p><i class="bi bi-heart-pulse text-primary me-2"></i>
              <span class="fw-semibold">Specialization:</span> 
              <%= doctor.specializations.map(&:specialization).join(", ") %>
            </p>
          </div>
          
          <!-- Footer -->
          <div class="card-footer bg-light text-center rounded-bottom-4 py-3">
            <% if @patient_id.present? %>
              <%= link_to "üìñ Book Appointment", 
                          new_appointment_path(doctor_id: doctor.id, patient_id: @patient_id), 
                          class: "btn btn-primary w-100 fw-bold fs-5 py-3 shadow-sm rounded-3" %>
            <% else %>
              <span class="text-danger fs-5">‚ö†Ô∏è Patient not specified</span>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
